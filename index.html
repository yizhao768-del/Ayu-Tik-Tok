<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TikTok Winter Prestige Rewards</title>
  <style>
    /* Basic Page Styles and TikTok branding */
    body {
      margin: 0;
      padding: 0;
      background: #000; /* black background for a high-end, corporate feel */
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    }
    .container {
      max-width: 600px;
      margin: auto;
      padding: 20px;
      text-align: center; /* center align content */
    }
    h1 {
      font-size: 2em;
      margin-bottom: 0.5em;
    }
    /* TikTok brand colors for title */
    h1 .brand { color: #fff; }         /* TikTok text in white */
    h1 .bullet { color: #fe2c55; }     /* bullet in TikTok's red/pink accent */
    /* Prize List Styles */
    #prizeList {
      margin-bottom: 1.5em;
    }
    .prize-item {
      margin: 1em 0;
    }
    .prize-item h2 {
      font-size: 1.3em;
      font-weight: normal;
      margin: 0.5em 0;
    }
    .prize-item img {
      max-width: 100%;
      height: auto;
      border: 1px solid #444;            /* subtle border around images */
      border-radius: 8px;
      box-shadow: 0 0 8px rgba(255,255,255,0.2); /* soft glow to stand out on dark bg */
    }
    /* Signature Pad and Form Styles */
    #signArea {
      margin: 1.5em 0;
    }
    .signature-instruction {
      font-size: 0.9em;
      color: #ccc;
      margin-bottom: 0.5em;
    }
    #signaturePad {
      background: #fff;
      border: 2px solid #ccc;
      border-radius: 4px;
      width: 100%;
      height: 150px;
      touch-action: none; /* prevent default scrolling on touch when drawing */
    }
    .consent {
      text-align: left;
      margin: 0.5em 0;
    }
    .consent label {
      margin-left: 0.25em;
      font-size: 0.95em;
      color: #fff;
    }
    /* Button Styles (Start and Claim) */
    button.btn {
      background: linear-gradient(90deg, #fe2c55, #25f4ee);
      color: #fff;
      border: none;
      padding: 0.6em 1.2em;
      font-size: 1.1em;
      border-radius: 5px;
      cursor: pointer;
    }
    button.btn:disabled {
      background: #555;
      color: #999;
      cursor: not-allowed;
    }
    button.btn:hover:enabled {
      opacity: 0.9;
    }
    /* Spinner Styles */
    #spinner {
      display: none;
      margin: 20px auto;
      width: 60px;
      height: 60px;
      border: 6px solid #ccc;
      border-top: 6px solid #fe2c55;     /* spinner accent in TikTok color */
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    /* Prize Reveal & Completed Message Styles */
    #prizeReveal {
      display: none;
      margin-top: 1em;
      opacity: 0;                       /* start hidden for fade-in */
      transition: opacity 1s ease;
    }
    #prizeReveal h2 {
      font-size: 1.4em;
      margin-bottom: 0.5em;
    }
    #prizeReveal img {
      max-width: 100%;
      height: auto;
      border: 1px solid #444;
      border-radius: 8px;
      box-shadow: 0 0 8px rgba(255,255,255,0.2);
      margin-bottom: 1em;
    }
    #claimMessage {
      margin-top: 1em;
      font-size: 1em;
      line-height: 1.4;
    }
    #completedMessage {
      display: none;
      font-size: 1.1em;
      line-height: 1.5;
      margin-top: 2em;
    }
    /* Fade-in effect for prize reveal */
    #prizeReveal.show {
      opacity: 1;
    }
    /* Confetti Styles */
    .confetti {
      position: fixed;
      top: 0;
      width: 8px;
      height: 8px;
      opacity: 1;
      animation: confettiFall 3s linear forwards;
    }
    @keyframes confettiFall {
      0%   { transform: translateY(0) rotate(0deg);   opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 1; }
    }
  </style>
</head>
<body>
    <!-- TikTok Winter Prestige Rewards Raffle Page - Save as index.html and open in browser -->
  <div class="container">
    <!-- Main Content Section (prize list, signature form, spinner, result) -->
    <div id="mainContent">
      <h1><span class="brand">TikTok</span><span class="bullet"> ‚Ä¢ </span>WINTER PRESTIGE REWARDS</h1>
      <!-- Prize List Section: displays the 5 prizes with images (ensure image files are in the same folder as this HTML) -->
      <div id="prizeList">
        <div class="prize-item">
          <h2>1Ô∏è‚É£ Saje Wellness Premium Wellness & Aromatherapy Set</h2>
          <img src="prize1.png" alt="Saje Wellness Premium Wellness & Aromatherapy Set" />
        </div>
        <div class="prize-item">
          <h2>2Ô∏è‚É£ Premium Home & Office Tech Lineup</h2>
          <img src="prize2.png" alt="Premium Home & Office Tech Lineup" />
        </div>
        <div class="prize-item">
          <h2>3Ô∏è‚É£ Est√©e Lauder Winter Radiance Skincare Collection</h2>
          <img src="prize3.png" alt="Est√©e Lauder Winter Radiance Skincare Collection" />
        </div>
        <div class="prize-item">
          <h2>4Ô∏è‚É£ Luxury Accessories Gift Set</h2>
          <img src="prize4.png" alt="Luxury Accessories Gift Set" />
        </div>
        <div class="prize-item">
          <h2>5Ô∏è‚É£ Mystery Grand Prize</h2>
          <img src="prize5.png" alt="Mystery Grand Prize" />
        </div>
      </div>
      <!-- Signature Section: canvas for signature, checkbox, and Start Raffle button -->
      <div id="signArea">
        <p class="signature-instruction">Please sign in the box below:</p>
        <canvas id="signaturePad"></canvas>
        <div class="consent">
          <input type="checkbox" id="confirmCheck" />
          <label for="confirmCheck">Confirm Signature</label>
        </div>
        <button id="startBtn" class="btn" disabled>Start Raffle</button>
      </div>
      <!-- Spinner and Prize Reveal Sections (initially hidden) -->
      <div id="spinner"></div>
      <div id="prizeReveal">
        <h2 id="prizeText"></h2>
        <img id="prizeImage" src="prize5.png" alt="Mystery Grand Prize: iPhone 17 Pro MAX-2TB" />
        <button id="claimBtn" class="btn">Claim Your Prize</button>
        <p id="claimMessage" style="display:none;">
          Congratulations dear friend! Now please contact your personal concierge via Telegram, share your prize info, and complete the challenge to become a Level 4 Prestige Member to receive your reward.
        </p>
      </div>
    </div>
    <!-- Completed Message Section (shown if raffle already done) -->
    <div id="completedMessage">
      Dear friend, you have already completed the raffle. Your prize is the iPhone 17 Pro MAX-2TB. Contact your concierge to claim it.
    </div>
  </div>
  <script>
    /* Script: Raffle functionality and interactions */
    // Signature Pad Drawing Logic
    const canvas = document.getElementById('signaturePad');
    const ctx = canvas.getContext('2d');
    // Set drawing parameters for the signature (black pen, smooth lines)
    ctx.strokeStyle = "#000";
    ctx.lineWidth = 2;
    ctx.lineCap = "round";
    ctx.lineJoin = "round";
    let drawing = false;
    let hasSigned = false;
    // Adjust canvas resolution to match displayed size (for mobile devices)
    function resizeCanvas() {
      canvas.width = canvas.offsetWidth;
      canvas.height = canvas.offsetHeight;
      ctx.strokeStyle = "#000";
      ctx.lineWidth = 2;
      ctx.lineCap = "round";
      ctx.lineJoin = "round";
    }
    // Initialize canvas size
    resizeCanvas();
    // Re-adjust canvas on window resize/orientation change if needed
    window.addEventListener('resize', resizeCanvas);
    // Touch/Pointer events for drawing signature
    canvas.addEventListener('pointerdown', e => {
      drawing = true;
      hasSigned = true;
      ctx.beginPath();
      const rect = canvas.getBoundingClientRect();
      ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
    });
    canvas.addEventListener('pointermove', e => {
      if (!drawing) return;
      const rect = canvas.getBoundingClientRect();
      ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
      ctx.stroke();
    });
    canvas.addEventListener('pointerup', e => {
      if (!drawing) return;
      drawing = false;
      const rect = canvas.getBoundingClientRect();
      // Draw the final dot/line segment
      ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
      ctx.stroke();
      ctx.closePath();
      // Update button state after signing
      updateStartButton();
    });
    canvas.addEventListener('pointercancel', () => {
      drawing = false;
    });
    // Enable Start button only when signature is drawn and checkbox checked
    const confirmCheck = document.getElementById('confirmCheck');
    const startBtn = document.getElementById('startBtn');
    function updateStartButton() {
      startBtn.disabled = !(hasSigned && confirmCheck.checked);
    }
    confirmCheck.addEventListener('change', updateStartButton);
    // Raffle process: start button click handler
    const spinner = document.getElementById('spinner');
    const prizeReveal = document.getElementById('prizeReveal');
    const prizeText = document.getElementById('prizeText');
    const prizeImage = document.getElementById('prizeImage');
    startBtn.addEventListener('click', () => {
      // Prevent multiple clicks and hide the signing area
      startBtn.disabled = true;
      document.getElementById('signArea').style.display = 'none';
      // Show spinner animation
      spinner.style.display = 'block';
      // After 3 seconds, reveal the grand prize
      setTimeout(() => {
        spinner.style.display = 'none';
        // Set result text for the prize reveal
        prizeText.textContent = "üéâ Congratulations! You won the Mystery Grand Prize: iPhone 17 Pro MAX-2TB";
        // (prizeImage src and alt already correspond to the iPhone prize)
        // Show the prize reveal section with a fade-in effect
        prizeReveal.style.display = 'block';
        requestAnimationFrame(() => {
          prizeReveal.classList.add('show');
        });
        // Launch confetti celebration
        launchConfetti();
        // Record completion in localStorage to prevent repeat entries
        localStorage.setItem('raffleCompleted', 'true');
      }, 3000);
    });
    // Claim Prize button handler
    const claimBtn = document.getElementById('claimBtn');
    const claimMessage = document.getElementById('claimMessage');
    claimBtn.addEventListener('click', () => {
      claimBtn.style.display = 'none';
      claimMessage.style.display = 'block';
    });
    // Confetti animation on win
    function launchConfetti() {
      const colors = ["#fe2c55", "#25f4ee", "#ffffff", "#fad000"]; // TikTok brand colors + gold
      for (let i = 0; i < 30; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        // random color
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        // random horizontal position (0% to 100%)
        confetti.style.left = Math.random() * 100 + "%";
        // random size (width and height between 4px and 9px)
        const w = Math.floor(Math.random() * 6) + 4;
        const h = Math.floor(Math.random() * 6) + 4;
        confetti.style.width = w + "px";
        confetti.style.height = h + "px";
        // random duration (2 to 4 seconds)
        const duration = Math.random() * 2 + 2;
        confetti.style.animationDuration = duration + "s";
        document.body.appendChild(confetti);
        // Remove confetti after falling
        setTimeout(() => { confetti.remove(); }, duration * 1000);
      }
    }
    // One-time entry enforcement using localStorage
    window.addEventListener('DOMContentLoaded', () => {
      if (localStorage.getItem('raffleCompleted')) {
        // Hide main content and show the completed notice if already entered
        document.getElementById('mainContent').style.display = 'none';
        document.getElementById('completedMessage').style.display = 'block';
      }
    });
  </script>
</body>
</html>
